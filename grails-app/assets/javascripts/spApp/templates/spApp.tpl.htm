<div class="page-loading">
    <div class="progress">
        <div class="progress-bar progress-bar-info progress-bar-striped" role="progressbar" aria-valuenow="100"
             aria-valuemin="0" aria-valuemax="100">
            <span i18n="47" class="sr-only">Loading...</span>
        </div>
    </div>
</div>
<div style="width:410px;padding-left:25px;overflow-y:scroll"
     ng-style="(panelMode[0] == 'default' && {'overflow-y':'visible'}) || {'overflow-y':'scroll'}"
     class="pull-left"
     ng-controller="LayoutCtrl" id="left-panel">

    <div ng-show="panelMode[0] == 'default'">
        <div id="spMenu" sp-menu style="overflow-y:visible;overflow-x:visible"></div>
        <div class="ui-layout-container" id="defaultPanel" style="height:500px;width:400px;margin-left:-15px;">
            <div class="ui-layout-center ui-layout-pane ui-layout-pane-center">
                <div class="row" sp-map style="margin-left:15px;margin-right: 0px;height:100%;"></div>
            </div>

            <div class="ui-layout-south ui-layout-pane ui-layout-pane-south" name="divSelectedLayer" id="legend"
                 ng-show="showOptions[0] || showLegend[0]"
                 style="display:block;overflow:hidden;background-color: #fff;height:100%">
                <div class="col-md-12" style="padding-left:0px;padding-right:0px;height:100%;padding-bottom:10px">
                    <div class="panel panel-default" style="overflow:hidden;height:100%">
                        <div class="panel-heading">
                            <i style="float:right" class="glyphicon glyphicon-menu-down"
                               ng-click="toggleOptions(false)"></i>
                            <h3 class="panel-title">
                                <div i18n="285" ng-show="showOptions[0]">Edit map options</div>
                                <div i18n="286" ng-show="showLegend[0]">Edit layer options</div>
                            </h3>
                        </div>
                        <div class="panel-body" style="padding-left:5px;overflow:scroll;height:100%;">
                            <div sp-options ng-show="showOptions[0]" style="padding-right:15px"></div>
                            <div sp-legend ng-show="showLegend[0]"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div ng-if="panelMode[0] == 'area'" draw-area config='panelData.area'></div>
    <div ng-if="panelMode[0] == 'envelope'" envelope></div>
    <div ng-if="panelMode[0] == 'nearestLocality'" nearest-locality></div>
    <div ng-if="panelMode[0] == 'pointComparison'" point-comparison></div>
</div>

<div style="margin-left:420px" id="right-panel">
    <area-create style="height:500px;width:500px;"></area-create>
    <div class="row" style="margin:0px" ng-controller="LeafletMapController as leafletMapController">
        <leaflet id="map" lf-center="australia" layers="layers" controls="controls"
                 bounds="bounds" defaults="defaults" width="100%" height="480px">
            <div class='alert alert-ala-danger alert-dismissable hide' id='login-again-message' role='alert'>
                <p><strong>Warning!</strong>
                    You lost authentication, <a href="#" class="alert-link" click="reconnect()" name="saveAndLogin">Click</a>
                    to save and login again.
                </p>
            </div>
            <div class='alert alert-ala-danger alert-dismissable hide' id='reconnect-message' role='alert'>
                <p><strong>Warning!</strong> You lost connection to the server, reconnecting.....</p>
            </div>
            <div class='alert alert-ala-danger alert-dismissable ' id='warning-message' role='alert'>
                <p><strong>Warning!</strong>Your web browser is not fully supported! </p>
            </div>
            <leaflet-quick-links></leaflet-quick-links>
        </leaflet>
    </div>
</div>

<div style="display:none" id="loginWorkaround"></div>